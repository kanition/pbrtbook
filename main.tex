%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% The Legrand Orange Book
% LaTeX Template
% Version 2.4 (26/09/2018)
%
% This template was downloaded from:
% http://www.LaTeXTemplates.com
%
% Original author:
% Mathias Legrand (legrand.mathias@gmail.com) with modifications by:
% Vel (vel@latextemplates.com)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
% Compiling this template:
% This template uses biber for its bibliography and makeindex for its index.
% When you first open the template, compile it from the command line with the 
% commands below to make sure your LaTeX distribution is configured correctly:
%
% 1) pdflatex main
% 2) makeindex main.idx -s StyleInd.ist
% 3) biber main
% 4) pdflatex main x 2
%
% After this, when you wish to update the bibliography/index use the appropriate
% command above and make sure to compile with pdflatex several times 
% afterwards to propagate your changes to the document.
%
% This template also uses a number of packages which may need to be
% updated to the newest versions for the template to compile. It is strongly
% recommended you update your LaTeX distribution if you have any
% compilation errors.
%
% Important note:
% Chapter heading images should have a 2:1 width:height ratio,
% e.g. 920px width and 460px height.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass[11pt,twoside]{book} % Default font size and left-justified equations

\input{structure.tex} % Insert the commands.tex file which contains the majority of the structure behind the template

%\hypersetup{pdftitle={Title},pdfauthor={Author}} % Uncomment and fill out to include PDF metadata for the author and title of the book

%----------------------------------------------------------------------------------------

\begin{document}

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\begingroup
\thispagestyle{empty} % Suppress headers and footers on the title page
\begin{tikzpicture}[remember picture,overlay]
    \node[inner sep=0pt] (background) at (current page.center) {\includegraphics[height=\paperheight]{view-3.png}};
    \draw (current page.center) node [fill=yellow!80!green!40,fill opacity=0.1,text opacity=1,inner sep=1cm]
    {\centering\bfseries\sffamily\parbox[c][][t]{\paperwidth}{\color{white}\centering
    {\Large Physically Based Rendering: From Theory To Implementation}\\[25pt]
    {\fontsize{30pt}{15pt}\textrm{从理论到实现}}\\[15pt]
    {\fontsize{60pt}{15pt}\textrm{基于物理的渲染}}\\[25pt]
    {\fontsize{21pt}{15pt}第三版}\\[20pt]
    {\Large\begin{tabular}{rcl}原著 && Matt Pharr\\ && Wenzel Jakob\\ && Greg Humphreys\\ 翻译 && Kanition\end{tabular}}}};
\end{tikzpicture}
\vfill
\endgroup

%----------------------------------------------------------------------------------------
%	COPYRIGHT PAGE
%----------------------------------------------------------------------------------------

\newpage
~\vfill
\thispagestyle{empty}

\input{content/readme.tex}

\newpage
\setcounter{page}{1}
\pagestyle{fancy}
\input{content/preface.tex}
\newpage
\input{content/prefaceonline.tex}

%----------------------------------------------------------------------------------------
%	TABLE OF CONTENTS
%----------------------------------------------------------------------------------------
\renewcommand{\contentsname}{目录}
\renewcommand{\figurename}{图}
\renewcommand{\tablename}{表}

%\usechapterimagefalse % If you don't want to include a chapter image, use this to toggle images off - it can be enabled later with \usechapterimagetrue

\chapterimage{Pictures/measure-one180-cut1260.png} % Table of contents heading image

\pagestyle{empty} % Disable headers and footers for the following pages

\tableofcontents % Print the table of contents itself

\cleardoublepage % Forces the first chapter to start on an odd page so it's on the right side of the book

\pagestyle{fancy} % Enable headers and footers again

%----------------------------------------------------------------------------------------
%	PART
%----------------------------------------------------------------------------------------

\part{绪论}
\input{content/chap01.tex}

\part{主要几何功能}
\input{content/chap02.tex}

\input{content/chap03.tex}

\input{content/chap04.tex}

\part{成像过程}
\input{content/chap05.tex}

\input{content/chap06.tex}

\input{content/chap07.tex}

\part{光的散射}
\input{content/chap08.tex}

\input{content/chap09.tex}

\input{content/chap10.tex}

\input{content/chap11.tex}

\input{content/chap12.tex}

\part{光传输算法}
\input{content/chap13.tex}

\input{content/chap14.tex}

\input{content/chap15.tex}

\input{content/chap16.tex}

\part{回顾与未来}
\input{content/chap17.tex}

\part{附录}
\input{content/chapextraA.tex}

\input{content/chapextraB.tex}

% \chapter{In-text Elements}

% \section{Theorems}\index{Theorems}

% This is an example of theorems.

% \subsection{Several equations}\index{Theorems!Several Equations}
% This is a theorem consisting of several equations.

% \begin{theorem}[Name of the theorem]
%     In $E=\mathbb{R}^n$ all norms are equivalent. It has the properties:
%     \begin{align}
%          & \big| ||\mathbf{x}|| - ||\mathbf{y}|| \big|\leq || \mathbf{x}- \mathbf{y}||                            \\
%          & ||\sum_{i=1}^n\mathbf{x}_i||\leq \sum_{i=1}^n||\mathbf{x}_i||\quad\text{where $n$ is a finite integer}
%     \end{align}
% \end{theorem}

% \subsection{Single Line}\index{Theorems!Single Line}
% This is a theorem consisting of just one line.

% \begin{theorem}
%     A set $\mathcal{D}(G)$ in dense in $L^2(G)$, $|\cdot|_0$.
% \end{theorem}

% %------------------------------------------------

% \section{Definitions}

% This is an example of a definition.

% \begin{definition}[Definition name]
%     Given a vector space $E$, a norm on $E$ is an application, denoted $||\cdot||$, $E$ in $\mathbb{R}^+=[0,+\infty[$ such that:
%     \begin{align}
%          & ||\mathbf{x}||=0\ \Rightarrow\ \mathbf{x}=\mathbf{0}        \\
%          & ||\lambda \mathbf{x}||=|\lambda|\cdot ||\mathbf{x}||        \\
%          & ||\mathbf{x}+\mathbf{y}||\leq ||\mathbf{x}||+||\mathbf{y}||
%     \end{align}
% \end{definition}

% %------------------------------------------------

% \section{Notations}

% \begin{notation}
%     Given an open subset $G$ of $\mathbb{R}^n$, the set of functions $\varphi$ are:
%     \begin{enumerate}
%         \item Bounded support $G$;
%         \item Infinitely differentiable;
%     \end{enumerate}
%     a vector space is denoted by $\mathcal{D}(G)$.
% \end{notation}

% %------------------------------------------------

% \section{Remarks}

% This is an example of a remark.

% \begin{remark}
%     The concepts presented here are now in conventional employment in mathematics. Vector spaces are taken over the field $\mathbb{K}=\mathbb{R}$, however, established properties are easily extended to $\mathbb{K}=\mathbb{C}$.
% \end{remark}

% %------------------------------------------------

% \section{Corollaries}

% This is an example of a corollary.

% \begin{corollary}[Corollary name]
%     The concepts presented here are now in conventional employment in mathematics. Vector spaces are taken over the field $\mathbb{K}=\mathbb{R}$, however, established properties are easily extended to $\mathbb{K}=\mathbb{C}$.
% \end{corollary}

% %------------------------------------------------

% \section{Propositions}

% This is an example of propositions.

% \subsection{Several equations}\index{Propositions!Several Equations}

% \begin{proposition}[Proposition name]
%     It has the properties:
%     \begin{align}
%          & \big| ||\mathbf{x}|| - ||\mathbf{y}|| \big|\leq || \mathbf{x}- \mathbf{y}||                            \\
%          & ||\sum_{i=1}^n\mathbf{x}_i||\leq \sum_{i=1}^n||\mathbf{x}_i||\quad\text{where $n$ is a finite integer}
%     \end{align}
% \end{proposition}

% \subsection{Single Line}\index{Propositions!Single Line}

% \begin{proposition}
%     Let $f,g\in L^2(G)$; if $\forall \varphi\in\mathcal{D}(G)$, $(f,\varphi)_0=(g,\varphi)_0$ then $f = g$.
% \end{proposition}

% %------------------------------------------------

% \section{Examples}

% This is an example of examples.

% \subsection{Equation and Text}

% \begin{example}
%     Let $G=\{x\in\mathbb{R}^2:|x|<3\}$ and denoted by: $x^0=(1,1)$; consider the function:
%     \begin{equation}
%         f(x)=\left\{\begin{aligned}& \mathrm{e}^{|x|} &  & \text{si $|x-x^0|\leq 1/2$} \\ & 0  &  & \text{si $|x-x^0|> 1/2$}\end{aligned}\right.
%     \end{equation}
%     The function $f$ has bounded support, we can take $A=\{x\in\mathbb{R}^2:|x-x^0|\leq 1/2+\epsilon\}$ for all $\epsilon\in\intoo{0}{5/2-\sqrt{2}}$.
% \end{example}

% \subsection{Paragraph of Text}

% \begin{example}[Example name]
%     rrr
% \end{example}

% %------------------------------------------------

% \section{Exercises}

% This is an example of an exercise.

% \begin{exercise}
%     This is a good place to ask a question to test learning progress or further cement ideas into students' minds.
% \end{exercise}

% %------------------------------------------------

% \section{Problems}

% \begin{problem}
% What is the average airspeed velocity of an unladen swallow?
% \end{problem}

% %------------------------------------------------

% \section{Vocabulary}

% Define a word to improve a students' vocabulary.

% \begin{vocabulary}[Word]
%     Definition of word.
% \end{vocabulary}


% \chapterimage{chapter_head_1.pdf} % Chapter heading image

% \chapter{Presenting Information}


% \begin{enumerate}
%     \item The first item
%     \item The second item
%     \item The third item
% \end{enumerate}


% \begin{itemize}
%     \item The first item
%     \item The second item
%     \item The third item
% \end{itemize}

% \begin{description}
%     \item[Name] Description
%     \item[Word] Definition
%     \item[Comment] Elaboration
% \end{description}

% \section{Table}

% \begin{table}[h]
%     \centering
%     \begin{tabular}{l l l}
%         \toprule
%         \textbf{Treatments} & \textbf{Response 1} & \textbf{Response 2} \\
%         \midrule
%         Treatment 1         & 0.0003262           & 0.562               \\
%         Treatment 2         & 0.0015681           & 0.910               \\
%         Treatment 3         & 0.0009271           & 0.296               \\
%         \bottomrule
%     \end{tabular}
%     \caption{Table caption}
%     \label{tab:example} % Unique label used for referencing the table in-text
%     %\addcontentsline{toc}{table}{Table \ref{tab:example}} % Uncomment to add the table to the table of contents
% \end{table}

% Referencing Table \ref{tab:example} in-text automatically.

% %------------------------------------------------

% \section{Figure}

% \begin{figure}[h]
%     \centering\includegraphics[scale=0.5]{placeholder.jpg}
%     \caption{Figure caption}
%     \label{fig:placeholder} % Unique label used for referencing the figure in-text
%     % \addcontentsline{toc}{figure}{Figure \ref{fig:placeholder}} % Uncomment to add the figure to the table of contents
% \end{figure}

% Referencing Figure \ref{fig:placeholder} in-text automatically.

%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------
\renewcommand{\bibname}{参考文献}
\chapter*{参考文献}
\addcontentsline{toc}{chapter}{\textcolor{ocre}{参考文献}} % Add a Bibliography heading to the table of contents
\printbibliography[heading=bibempty]

%------------------------------------------------

% \section*{论文}
% \addcontentsline{toc}{section}{论文}
% \printbibliography[heading=bibempty,type=article]

%------------------------------------------------

% \section*{书籍}
% \addcontentsline{toc}{section}{书籍}
% \printbibliography[heading=bibempty,type=book]

%----------------------------------------------------------------------------------------
%	INDEX
%----------------------------------------------------------------------------------------
\renewcommand{\indexname}{索引}
\cleardoublepage % Make sure the index starts on an odd (right side) page
\phantomsection
\setlength{\columnsep}{0.75cm} % Space between the 2 columns of the index
\addcontentsline{toc}{chapter}{\textcolor{ocre}{索引}} % Add an Index heading to the table of contents
\printindex % Output the index

%----------------------------------------------------------------------------------------

\end{document}
